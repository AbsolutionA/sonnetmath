The mathlibrary is based on GCC, if you get an error it might be because of "__attribute__((aligned(16)))".
Change it to what the equalivant of this call is for your compiler.